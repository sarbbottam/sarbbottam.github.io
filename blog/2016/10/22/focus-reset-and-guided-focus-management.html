<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>
      
      
      Sarbbottam’s weblog - Focus Reset and Guided Focus Management 
    </title>
    <!-- Begin Jekyll SEO tag v2.0.0 -->
<meta property="og:title" content="Focus Reset and Guided Focus Management" />
<meta name="description" content="Focus reset happens when an active (currently focused) element, gets removed form the DOM or the render tree. On focus reset, document.activeElement refers to relative top most node; i.e. body or iframe, leading to an unpleasant user experience for keyboard only users and screen reader users. To mitigate the focus reset problem, one must implement guided focus management. As the name suggests, in guided focus management, one programmatically focuses the desired HTML element/node. For example, when a modal is displayed, the modal container is focused, similarly, when a modal is dismissed, the element that had triggered the modal display, is focused. When an HTML element/node is focused, screen reader generally reads out the content of the HTML element, which serves as a feed back to the non sighted users." />
<meta property="og:description" content="Focus reset happens when an active (currently focused) element, gets removed form the DOM or the render tree. On focus reset, document.activeElement refers to relative top most node; i.e. body or iframe, leading to an unpleasant user experience for keyboard only users and screen reader users. To mitigate the focus reset problem, one must implement guided focus management. As the name suggests, in guided focus management, one programmatically focuses the desired HTML element/node. For example, when a modal is displayed, the modal container is focused, similarly, when a modal is dismissed, the element that had triggered the modal display, is focused. When an HTML element/node is focused, screen reader generally reads out the content of the HTML element, which serves as a feed back to the non sighted users." />
<link rel="canonical" href="https://sarbbottam.github.io/blog/2016/10/22/focus-reset-and-guided-focus-management" />
<meta property="og:url" content="https://sarbbottam.github.io/blog/2016/10/22/focus-reset-and-guided-focus-management" />
<meta property="og:site_name" content="Sarbbottam’s weblog" />
<meta property="og:image" content="https://sarbbottam.github.io/images/sarbbottam.jpeg" />
<meta property="og:image:height" content="100" />
<meta property="og:image:width" content="100" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-10-22T21:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@sarbbottam" />
<meta name="twitter:creator" content="@sarbbottam" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Focus Reset and Guided Focus Management",
"image": "https://sarbbottam.github.io/images/sarbbottam.jpeg",
"datePublished": "2016-10-22T21:00:00+00:00",
"description": "Focus reset happens when an active (currently focused) element, gets removed form the DOM or the render tree. On focus reset, document.activeElement refers to relative top most node; i.e. body or iframe, leading to an unpleasant user experience for keyboard only users and screen reader users. To mitigate the focus reset problem, one must implement guided focus management. As the name suggests, in guided focus management, one programmatically focuses the desired HTML element/node. For example, when a modal is displayed, the modal container is focused, similarly, when a modal is dismissed, the element that had triggered the modal display, is focused. When an HTML element/node is focused, screen reader generally reads out the content of the HTML element, which serves as a feed back to the non sighted users.",
"url": "https://sarbbottam.github.io/blog/2016/10/22/focus-reset-and-guided-focus-management"}</script>
<!-- End Jekyll SEO tag -->

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/css/main.css">

</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <a class="site-title" href="/">Sarbbottam’s weblog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          <a href="/">Blog</a>
        
          <a href="/project">Project</a>
        
          <a href="/design">Design</a>
        
          <a href="/about">About</a>
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      
      
      <h1>Focus Reset and Guided Focus Management</h1>
      <div class="post">

  <p class="post-meta">
    Oct 22, 2016
     -
    
    
      4 mins read
    
  </p>

  <article class="post-content">
  <p>Focus reset happens when an active (currently focused) element, gets removed form the DOM or the render tree.
On focus reset, <code class="highlighter-rouge">document.activeElement</code> refers to relative top most <code class="highlighter-rouge">node</code>; i.e. <code class="highlighter-rouge">body</code> or <code class="highlighter-rouge">iframe</code>,
leading to an unpleasant user experience for keyboard only users and screen reader users.</p>

<p>To mitigate the <code class="highlighter-rouge">focus reset</code> problem, one must implement <code class="highlighter-rouge">guided focus management</code>.
As the name suggests, in <code class="highlighter-rouge">guided focus management</code>, one programmatically focuses the desired HTML element/node.</p>

<p>For example, when a modal is displayed, the modal container is focused,
similarly, when a modal is dismissed, the element that had triggered the modal display, is focused.</p>

<p><em>When an HTML element/node is focused, screen reader <a href="#caveats">generally</a> reads out the content of the HTML element,
which serves as a feed back to the non sighted users.</em></p>

<!--more-->

<h2 id="focus-reset">Focus reset</h2>

<p>Chrome, Firefox, Safari handles focus reset gracefully.
But in IE 11, on the focus reset, any subsequent tab press will focus the <code class="highlighter-rouge">url bar</code>,
forcing a keyboard only user to tab through, from the beginning, once again.</p>

<p>Refer <a href="http://codepen.io/sarbbottam/full/ZpXKjA/">CodePen example - Focus Reset</a>.</p>

<p data-height="370" data-theme-id="0" data-slug-hash="ZpXKjA" data-default-tab="result" data-user="sarbbottam" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/sarbbottam/pen/ZpXKjA/">Focus Reset</a> by Sarbbottam Bandyopadhyay (<a href="http://codepen.io/sarbbottam">@sarbbottam</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>You might want to try the example with multiple screen readers, Safari/VoiceOver, IE/JAWS, Firefox/NVDA.</p>

<h2 id="guided-focus-management">Guided Focus Management</h2>

<p>In <code class="highlighter-rouge">guided focus management</code>, the container of the dynamic content is focused.
So that screen reader can start reading the content of the dynamic container.
It also serves as a guided context switch. Any subsequent <code class="highlighter-rouge">tab</code> press will focus the next focusable element within/after this context.</p>

<p>Most likely the container is a non-focusable element like <code class="highlighter-rouge">div</code>, <code class="highlighter-rouge">section</code>, <code class="highlighter-rouge">article</code>, <code class="highlighter-rouge">span</code> etc.,
thus it needs to have <code class="highlighter-rouge">tabindex=-1</code> attribute, in order to be focused via JavaScript using <code class="highlighter-rouge">HTMLElement.focus()</code>.</p>

<p>For more on <code class="highlighter-rouge">tabindex=-1</code> please refer <a href="/blog/2016/10/14/tab-order-and-tabindex#tabindex-1">tabindex=-1</a> section of my earlier post <a href="/blog/2016/10/14/tab-order-and-tabindex">tab order and tabindex</a>.</p>

<p>Refer <a href="http://codepen.io/sarbbottam/full/LRzyBq/">CodePen example - Guided Focus Management</a>.</p>

<p data-height="300" data-theme-id="0" data-slug-hash="LRzyBq" data-default-tab="result" data-user="sarbbottam" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/sarbbottam/pen/LRzyBq/">Guided Focus Management</a> by Sarbbottam Bandyopadhyay (<a href="http://codepen.io/sarbbottam">@sarbbottam</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<blockquote>
  <p>Does one always need guided focus management for dynamic content?</p>
</blockquote>

<p><em>Not really, sometimes not required, sometimes you can’t.</em></p>

<h3 id="sometimes-not-required">Sometimes not required</h3>

<p>Consider the <a href="http://codepen.io/sarbbottam/full/VKVpjp/">CodePen example - Guided Focus Management - Sometimes not required</a></p>

<p data-height="450" data-theme-id="0" data-slug-hash="VKVpjp" data-default-tab="result" data-user="sarbbottam" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/sarbbottam/pen/VKVpjp/">Guided Focus Management - Sometimes not required</a> by Sarbbottam Bandyopadhyay (<a href="http://codepen.io/sarbbottam">@sarbbottam</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<p>trigger node utilizes the <code class="highlighter-rouge">aria-expanded</code> attribute, which let’s the screen reader user be aware of the situation.
As the expanded section immediately follows the trigger node, any subsequent <code class="highlighter-rouge">tab</code> will focus the first focusable element in the expanded section.</p>

<p>However, if the dynamic content appears before the trigger or replaces the trigger is replaced by the dynamic content, <code class="highlighter-rouge">guided focus management</code> is your best bet.</p>

<p>Consider the <a href="http://codepen.io/sarbbottam/full/RRKOPy/">CodePen example - Show more/less</a></p>

<p data-height="300" data-theme-id="0" data-slug-hash="RRKOPy" data-default-tab="result" data-user="sarbbottam" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/sarbbottam/pen/RRKOPy/">Show more/less, better user experience</a> by Sarbbottam Bandyopadhyay (<a href="http://codepen.io/sarbbottam">@sarbbottam</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<h3 id="sometimes-you-cant">Sometimes you can’t</h3>

<p>For example, an auto-complete or typeahead widget.
Focus must remain in the <code class="highlighter-rouge">textbox</code> as the user is interacting with it.</p>

<p>In scenarios, where you can’t shift focus, you could use <code class="highlighter-rouge">aria live region</code>, <code class="highlighter-rouge">aria-activedescendant</code> to provide feedback to non-sighted users.</p>

<p>Refer the <a href="http://codepen.io/sarbbottam/full/yakYLV/">CodePen example - Typeahead</a></p>

<p data-height="720" data-theme-id="0" data-slug-hash="yakYLV" data-default-tab="result" data-user="sarbbottam" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/sarbbottam/pen/yakYLV/">Guided Focus Management - Sometimes you can't</a> by Sarbbottam Bandyopadhyay (<a href="http://codepen.io/sarbbottam">@sarbbottam</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<h3 id="caveats">Caveats</h3>

<p>If a container has any of <a href="https://www.w3.org/TR/wai-aria/roles#landmark_roles">landmark roles</a> associated,
VoiceOver with Safari does not read out the dynamic content, though the container is focused, due to associated <code class="highlighter-rouge">landmark role</code>, at the time of writting this post.</p>

<p>Please refer <a href="http://codepen.io/sarbbottam/full/PGydQy/">CodePen example - Guided Focus Management - role=”main”</a></p>

<p data-height="265" data-theme-id="0" data-slug-hash="PGydQy" data-default-tab="result" data-user="sarbbottam" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/sarbbottam/pen/PGydQy/">Guided Focus Management - role="main"</a> by Sarbbottam Bandyopadhyay (<a href="http://codepen.io/sarbbottam">@sarbbottam</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<h3 id="single-page-application">Single Page Application</h3>

<p>Screen reading software, on page load, starts reading the content of the page from the beginning.
In Single Page Application, there is no page load after the initial one.</p>

<p>When the contents gets updated with out a page load, screen reading software has no clue by default.
However utilizing <code class="highlighter-rouge">guided focus management</code> one can explicitly let the screen reading software read out the updates.</p>

<p><em>Guided focus management is higly desired in Single Page Applications.</em></p>

  <hr/>
  If you have enjoyed reading this post you can follow me on twitter <a href="https://twitter.com/sarbbottam">@sarbbottam</a> and learn about any new posts.
  <em>Opinions expressed are solely my own and do not express the views or opinions of my employer.</em>
  </article>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js"></script>
<script>
  anchors.options = {
    icon: '#',
    placement: 'left'
  };
  anchors.add();
</script>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'sarbbottam';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
</div>

      </div>
    </div>
    <footer class="site-footer">

  <div class="wrap flex-wrap">
    <div>
      <a href="https://github.com/sarbbottam">
        <span class="icon github">
          <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
            <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
            c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
            c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
            c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
            C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
            c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
            c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
            c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
            c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
          </svg>
        </span>
        <span class="username">sarbbottam</span>
      </a>
    </div>
    <div>
      <a href="https://twitter.com/sarbbottam">
        <span class="icon twitter">
          <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
            <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
            c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
            c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
            c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
            C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
            c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
            c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
          </svg>
        </span>
        <span class="username">sarbbottam</span>
      </a>
    </div>
    <div>
      subscribe <a href="/feed.xml">via RSS</a>
    </div>
  </div>

</footer>


    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-86047817-1', 'auto');
  ga('send', 'pageview', location.pathname);

</script>

    

    </body>
</html>